{{- $sha := getenv "HUGO_GIT_SHA" -}}
{{- if and $sha (ge (len $sha) 12) -}}
  {{- $short := substr $sha 0 12 -}}
  <meta name="goa.design.git_sha" content="{{ $sha }}">
  <meta name="goa.design.git_short_sha" content="{{ $short }}">
{{- end -}}

{{/* Theme initialization - runs early to prevent flash of wrong theme */}}
<script>
(function() {
  var stored = null;
  try { stored = localStorage.getItem('goa-theme'); } catch(e) {}
  // Default to dark mode unless the user explicitly chose a theme.
  var theme = stored || 'dark';
  document.documentElement.setAttribute('data-theme', theme);
})();
</script>
